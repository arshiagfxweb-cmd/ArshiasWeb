<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ARSHIA — GFX Designer</title>
    <link rel="icon" type="image/webp" href="https://i.postimg.cc/kXhKzFZm/arshias-logo.webp">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-red: #DC2626;
            --dark-red: #991B1B;
            --void-black: #050505;
            --card-black: #111111;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--void-black);
            color: white;
            overflow-x: hidden;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Mobile: Disable custom cursor */
        @media (pointer: coarse) {
            body { cursor: auto !important; }
            .cursor-dot, .cursor-outline { display: none !important; }
        }
        
        .font-display { font-family: 'Space Grotesk', sans-serif; }
        
        .cursor-dot, .cursor-outline {
            position: fixed;
            top: 0; left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
        }
        
        .cursor-dot { width: 5px; height: 5px; background-color: var(--primary-red); }
        .cursor-outline {
            width: 30px; height: 30px;
            border: 2px solid rgba(220, 38, 38, 0.5);
            transition: width 0.15s, height 0.15s, background-color 0.15s;
        }
        
        .cursor-outline.hover {
            width: 50px; height: 50px;
            background-color: rgba(220, 38, 38, 0.1);
            border-color: var(--primary-red);
        }
        
        .portfolio-item {
            position: relative;
            border-radius: 24px;
            overflow: hidden;
            background: var(--card-black);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform-style: preserve-3d;
            transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1), 
                        box-shadow 0.4s ease, 
                        border-color 0.4s ease;
            cursor: pointer;
            will-change: transform;
        }
        
        .portfolio-item.thumbnail { aspect-ratio: 16/9; }
        .portfolio-item.poster { aspect-ratio: 3/4; }
        .portfolio-item.banner { aspect-ratio: 21/9; }
        .portfolio-item.combo { aspect-ratio: 16/9; }
        
        /* FIX: Ensure images fill container properly */
        .portfolio-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.6s ease;
            pointer-events: none;
            -webkit-user-drag: none;
            background-color: var(--card-black);
        }
        
        /* Mobile: Simpler hover effect */
        @media (hover: hover) {
            .portfolio-item.hover-active {
                transform: perspective(1000px) rotateX(10deg) rotateY(-10deg) scale(1.05);
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5), 
                            0 0 30px rgba(220, 38, 38, 0.3);
                border-color: rgba(220, 38, 38, 0.5);
                z-index: 10;
            }
        }
        
        @media (hover: none) {
            .portfolio-item:active {
                transform: scale(0.98);
            }
        }
        
        .portfolio-item.hover-active img {
            transform: scale(1.1);
        }
        
        .portfolio-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255,255,255,0.3) 50%, 
                transparent 100%);
            transition: left 0.7s ease;
            pointer-events: none;
            z-index: 5;
        }
        
        .portfolio-item.hover-active::after {
            left: 100%;
        }
        
        .portfolio-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 50%, transparent 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
            display: flex;
            align-items: flex-end;
            padding: 24px;
            z-index: 3;
            pointer-events: none;
        }
        
        .portfolio-item.hover-active .portfolio-overlay {
            opacity: 1;
        }
        
        /* Mobile: Always show overlay on touch devices */
        @media (hover: none) {
            .portfolio-overlay {
                opacity: 1;
                background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, transparent 60%);
            }
        }
        
        .glass-card {
            background: rgba(17, 17, 17, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }
        
        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.7s;
            z-index: 1;
            pointer-events: none;
        }
        
        .glass-card:hover::before {
            left: 100%;
        }
        
        @media (hover: hover) {
            .glass-card:hover {
                transform: translateY(-8px) scale(1.02);
                border-color: rgba(220, 38, 38, 0.3);
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5), 0 0 30px rgba(220, 38, 38, 0.2);
            }
        }
        
        .main-nav {
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1000;
            background: rgba(5, 5, 5, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        /* Mobile nav adjustments */
        @media (max-width: 768px) {
            .main-nav .max-w-7xl {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .main-nav .hidden.md\:flex {
                display: none;
            }
            
            .main-nav .flex.items-center.gap-4 {
                gap: 0.5rem;
            }
            
            .logo-img { height: 32px; }
            .font-display.text-xl { font-size: 1rem; }
        }
        
        .logo-img { height: 40px; width: auto; object-fit: contain; pointer-events: none; }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-red), var(--dark-red));
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            border: none;
            touch-action: manipulation;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before { left: 100%; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(220, 38, 38, 0.4); }
        .btn-primary:active { transform: translateY(0); }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        
        .btn-secondary {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            touch-action: manipulation;
        }
        
        .btn-secondary::before {
            content: '';
            position: absolute;
            top: 0; left: -100%;
            width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }
        
        .btn-secondary:hover::before { left: 100%; }
        .btn-secondary:hover { border-color: var(--primary-red); background: rgba(220, 38, 38, 0.1); transform: translateY(-2px); }
        .btn-secondary:active { transform: translateY(0); }
        
        .btn-danger {
            background: rgba(220, 38, 38, 0.2);
            border: 1px solid rgba(220, 38, 38, 0.5);
            color: #ff6b6b;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .btn-danger:hover { background: rgba(220, 38, 38, 0.4); }
        
        .form-input {
            background: rgba(17, 17, 17, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 1rem 1.25rem;
            color: white;
            width: 100%;
            transition: all 0.3s;
            font-size: 16px; /* Prevents zoom on iOS */
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }
        
        .currency-dropdown {
            background: rgba(17, 17, 17, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
        }
        
        .filter-btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 0.75rem 1.5rem;
            border-radius: 100px;
            color: #888;
            transition: all 0.3s;
            cursor: pointer;
            touch-action: manipulation;
        }
        
        .filter-btn:hover, .filter-btn.active {
            border-color: var(--primary-red);
            color: var(--primary-red);
            background: rgba(220, 38, 38, 0.1);
        }
        
        /* Mobile filter buttons */
        @media (max-width: 640px) {
            .filter-btn {
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }
        }
        
        .custom-checkbox {
            appearance: none;
            width: 20px; height: 20px;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s;
            flex-shrink: 0;
        }
        
        .custom-checkbox:checked {
            background: var(--primary-red);
            border-color: var(--primary-red);
        }
        
        .custom-checkbox:checked::after {
            content: '✓';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
        }
        
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--void-black); }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--primary-red); }
        
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(17, 17, 17, 0.95);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 1rem 2rem;
            border-radius: 12px;
            z-index: 3000;
            opacity: 0;
            transition: all 0.3s;
            max-width: 90vw;
            text-align: center;
        }
        
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        
        .admin-panel {
            position: fixed;
            top: 0; right: 0;
            width: 100%; max-width: 450px;
            height: 100vh;
            background: rgba(5, 5, 5, 0.98);
            border-left: 1px solid rgba(255,255,255,0.1);
            z-index: 2000;
            transform: translateX(100%);
            transition: transform 0.4s;
            overflow-y: auto;
        }
        
        /* Mobile admin panel */
        @media (max-width: 640px) {
            .admin-panel {
                max-width: 100%;
            }
        }
        
        .admin-panel.active { transform: translateX(0); }
        
        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s; }
        .reveal.active { opacity: 1; transform: translateY(0); }
        
        .corner-ribbon {
            position: absolute;
            top: 0; right: 0;
            width: 150px; height: 150px;
            overflow: hidden;
            z-index: 10;
            pointer-events: none;
        }
        
        .corner-ribbon span {
            position: absolute;
            display: block;
            width: 225px;
            padding: 8px 0;
            background: var(--primary-red);
            box-shadow: 0 5px 10px rgba(0,0,0,.1);
            color: #fff;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            text-align: center;
            left: -25px;
            top: 30px;
            transform: rotate(45deg);
            letter-spacing: 1px;
        }
        
        .coming-soon-text {
            font-size: 2.5rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            color: #DC2626;
            text-align: center;
            margin-top: 20px;
            text-shadow: 0 0 20px rgba(220, 38, 38, 0.5);
        }
        
        /* Mobile coming soon text */
        @media (max-width: 640px) {
            .coming-soon-text {
                font-size: 1.5rem;
            }
        }
        
        .grid-bg {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(220, 38, 38, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(220, 38, 38, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: -1;
        }
        
        .orders-list { max-height: 300px; overflow-y: auto; }
        .order-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
        }
        
        .order-item.pending { border-left: 3px solid #DC2626; }
        .order-item.contacted { border-left: 3px solid #fbbf24; }
        .order-item.completed { border-left: 3px solid #22c55e; }

        .admin-section {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 16px;
            margin-top: 16px;
        }

        .admin-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #9ca3af;
            margin-bottom: 0.5rem;
            display: block;
        }

        .feature-item {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
            align-items: center;
        }

        .feature-item input {
            flex: 1;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 8px 12px;
            border-radius: 6px;
            color: white;
            font-size: 0.875rem;
        }

        .feature-item button {
            background: rgba(220, 38, 38, 0.2);
            border: none;
            color: #ef4444;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
        }

        .feature-item button:hover {
            background: rgba(220, 38, 38, 0.4);
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: #333;
            transition: .4s;
            border-radius: 34px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: #DC2626;
        }

        input:checked + .toggle-slider:before {
            transform: translateX(24px);
        }

        .service-edit-item {
            display: flex;
            gap: 8px;
            align-items: center;
            background: rgba(255,255,255,0.05);
            padding: 8px;
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .service-edit-item input {
            background: transparent;
            border: 1px solid rgba(255,255,255,0.1);
            padding: 6px 10px;
            border-radius: 6px;
            color: white;
            font-size: 0.875rem;
        }

        .service-edit-item input[name="serviceName"] {
            flex: 1;
        }

        .service-edit-item input[name="servicePrice"] {
            width: 70px;
            text-align: center;
        }

        .service-edit-item button {
            background: rgba(220, 38, 38, 0.2);
            border: none;
            color: #ef4444;
            padding: 6px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.875rem;
        }

        .audio-controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1001;
            background: rgba(5, 5, 5, 0.95);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 12px;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s;
        }

        /* Mobile audio controls */
        @media (max-width: 640px) {
            .audio-controls {
                bottom: 10px;
                left: 10px;
                padding: 8px;
                gap: 8px;
            }
            
            .volume-slider {
                width: 60px;
            }
        }

        .audio-controls:hover {
            border-color: rgba(220, 38, 38, 0.5);
        }

        .mute-btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .mute-btn:hover {
            background: rgba(220, 38, 38, 0.2);
            border-color: rgba(220, 38, 38, 0.5);
        }

        .mute-btn.muted {
            color: #ef4444;
            border-color: #ef4444;
        }

        .volume-slider {
            width: 100px;
            height: 4px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 14px;
            height: 14px;
            background: #DC2626;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
        }

        .volume-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 10px rgba(220, 38, 38, 0.5);
        }

        .volume-label {
            font-size: 0.75rem;
            color: #666;
            min-width: 35px;
            text-align: right;
        }

        /* Multi-select dropdown styles */
        .multi-select-container {
            position: relative;
            width: 100%;
        }
        
        .multi-select-trigger {
            background: rgba(17, 17, 17, 0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 1rem 1.25rem;
            color: white;
            width: 100%;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
            font-size: 16px;
        }
        
        .multi-select-trigger:hover {
            border-color: rgba(220, 38, 38, 0.5);
        }
        
        .multi-select-trigger.active {
            border-color: var(--primary-red);
            box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
        }
        
        .multi-select-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(17, 17, 17, 0.98);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            margin-top: 8px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 100;
            display: none;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        
        .multi-select-dropdown.active {
            display: block;
        }
        
        .multi-select-option {
            padding: 12px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: background 0.2s;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .multi-select-option:last-child {
            border-bottom: none;
        }
        
        .multi-select-option:hover {
            background: rgba(220, 38, 38, 0.1);
        }
        
        .multi-select-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #DC2626;
            cursor: pointer;
        }
        
        .multi-select-option .service-info {
            flex: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .multi-select-option .service-name {
            font-weight: 500;
        }
        
        .multi-select-option .service-price {
            color: #DC2626;
            font-weight: 600;
        }
        
        .selected-services {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }
        
        .selected-service-tag {
            background: rgba(220, 38, 38, 0.2);
            border: 1px solid rgba(220, 38, 38, 0.5);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 8px;
            animation: tagPop 0.3s ease;
        }
        
        @keyframes tagPop {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .selected-service-tag button {
            background: none;
            border: none;
            color: #ff6b6b;
            cursor: pointer;
            font-size: 16px;
            line-height: 1;
            padding: 0;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s;
        }
        
        .selected-service-tag button:hover {
            background: rgba(255,255,255,0.1);
        }

        .webhook-cooldown {
            font-size: 0.75rem;
            color: #666;
            margin-top: 4px;
        }
        
        .placeholder-text {
            color: #666;
        }
        
        /* Mobile hero adjustments */
        @media (max-width: 768px) {
            #hero h1 {
                font-size: 4rem !important;
            }
            
            #hero p {
                font-size: 1rem !important;
            }
            
            .btn-primary, .btn-secondary {
                padding: 0.875rem 1.5rem;
                font-size: 0.875rem;
            }
        }
        
        /* Mobile section padding */
        @media (max-width: 640px) {
            section {
                padding-left: 1rem !important;
                padding-right: 1rem !important;
            }
            
            .max-w-7xl {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }
        
        /* Prevent text selection on mobile */
        .no-select {
            -webkit-user-select: none;
            -webkit-touch-callout: none;
        }
        
        /* Portfolio grid mobile */
        @media (max-width: 768px) {
            #portfolioGrid {
                grid-template-columns: 1fr !important;
            }
        }
        
        /* Services grid mobile */
        @media (max-width: 640px) {
            #services .grid {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>
<body>
    <!-- Custom Cursor (hidden on mobile) -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>
    
    <!-- Grid Background -->
    <div class="grid-bg"></div>
    
    <!-- Audio Controls (hidden if audio not supported) -->
    <div class="audio-controls" id="audioControls" style="display: none;">
        <button onclick="toggleMute()" class="mute-btn" id="muteBtn" title="Toggle Sound">
            <svg id="soundOnIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/>
            </svg>
            <svg id="soundOffIcon" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"/>
            </svg>
        </button>
        <input type="range" min="0" max="100" value="50" class="volume-slider" id="volumeSlider" oninput="updateVolume(this.value)">
        <span class="volume-label" id="volumeLabel">50%</span>
    </div>
    
    <!-- Navigation -->
    <nav class="main-nav">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#hero" class="flex items-center gap-3 no-select">
                <img src="https://i.postimg.cc/kXhKzFZm/arshias-logo.webp" alt="ARSHIA" class="logo-img">
                <span class="font-display text-xl font-bold tracking-wider">ARSHIA</span>
            </a>
            
            <div class="hidden md:flex items-center gap-8">
                <a href="#work" class="text-sm text-gray-300 hover:text-white transition-colors">Work</a>
                <a href="#services" class="text-sm text-gray-300 hover:text-white transition-colors">Services</a>
                <a href="#order" class="text-sm text-gray-300 hover:text-white transition-colors">Order</a>
                <a href="#contact" class="text-sm text-gray-300 hover:text-white transition-colors">Contact</a>
            </div>
            
            <div class="flex items-center gap-4">
                <div class="relative" id="currencySwitcher">
                    <button onclick="toggleCurrency()" class="bg-white/5 border border-white/10 px-4 py-2 rounded-xl text-sm flex items-center gap-2 hover:border-red-500/50 transition-all">
                        <span id="currentCurrency">AUD</span>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    <div class="currency-dropdown absolute top-full right-0 mt-2 min-w-[140px] opacity-0 invisible transition-all z-50" id="currencyDropdown">
                        <div class="p-2 space-y-1">
                            <div class="px-4 py-2 hover:bg-white/10 rounded-lg cursor-pointer flex justify-between" onclick="changeCurrency('AUD')">AUD <span class="text-gray-500">$</span></div>
                            <div class="px-4 py-2 hover:bg-white/10 rounded-lg cursor-pointer flex justify-between" onclick="changeCurrency('USD')">USD <span class="text-gray-500">$</span></div>
                            <div class="px-4 py-2 hover:bg-white/10 rounded-lg cursor-pointer flex justify-between" onclick="changeCurrency('EUR')">EUR <span class="text-gray-500">€</span></div>
                            <div class="px-4 py-2 hover:bg-white/10 rounded-lg cursor-pointer flex justify-between" onclick="changeCurrency('GBP')">GBP <span class="text-gray-500">£</span></div>
                            <div class="px-4 py-2 hover:bg-white/10 rounded-lg cursor-pointer flex justify-between" onclick="changeCurrency('CAD')">CAD <span class="text-gray-500">$</span></div>
                            <div class="px-4 py-2 hover:bg-white/10 rounded-lg cursor-pointer flex justify-between" onclick="changeCurrency('JPY')">JPY <span class="text-gray-500">¥</span></div>
                            <div class="px-4 py-2 hover:bg-white/10 rounded-lg cursor-pointer flex justify-between" onclick="changeCurrency('NZD')">NZD <span class="text-gray-500">$</span></div>
                            <div class="px-4 py-2 hover:bg-white/10 rounded-lg cursor-pointer flex justify-between" onclick="changeCurrency('SGD')">SGD <span class="text-gray-500">$</span></div>
                        </div>
                    </div>
                </div>
                
                <button onclick="toggleAdmin()" class="text-xs border border-white/10 px-4 py-2 rounded-xl hover:border-red-500/50 hover:text-red-500 transition-all">Admin</button>
            </div>
        </div>
    </nav>
    
    <!-- Hero Section -->
    <section id="hero" class="min-h-screen flex items-center justify-center pt-20 relative overflow-hidden px-6">
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-red-600/10 rounded-full blur-[120px]"></div>
        <div class="absolute bottom-1/4 right-1/4 w-64 h-64 bg-red-900/20 rounded-full blur-[100px]"></div>
        
        <div class="text-center px-6 max-w-5xl mx-auto relative z-10">
            <div class="mb-6 reveal">
                <span class="inline-block px-6 py-3 rounded-full border border-red-500/30 text-red-500 text-sm font-medium tracking-wider bg-red-500/5">
                    GFX DESIGNER & VISUAL ARTIST
                </span>
            </div>
            
            <h1 class="text-7xl md:text-9xl font-display font-bold mb-6 tracking-tight reveal">
                ARSHIA<span class="text-red-600">.</span>
            </h1>
            
            <p class="text-xl text-gray-400 mb-12 max-w-2xl mx-auto reveal">
                Creating <span class="text-white font-semibold">visual identities</span> that demand attention. Professional GFX for content creators, esports teams, and brands.
            </p>
            
            <div class="flex flex-col sm:flex-row gap-4 justify-center reveal">
                <a href="#work" class="btn-primary text-lg inline-flex items-center justify-center gap-2">
                    VIEW WORK
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/></svg>
                </a>
                <a href="#order" class="btn-secondary text-lg inline-flex items-center justify-center">PLACE ORDER</a>
            </div>
        </div>
    </section>
    
    <!-- Work/Portfolio Section -->
    <section id="work" class="py-24 px-6">
        <div class="max-w-7xl mx-auto">
            <div class="mb-16 text-center reveal">
                <h2 class="text-5xl md:text-6xl font-display font-bold mb-4">
                    SELECTED <span class="text-red-600">WORK</span>
                </h2>
                <p class="text-gray-400 max-w-xl mx-auto">Premium graphics crafted for high-performance content</p>
            </div>
            
            <div class="flex justify-center gap-3 mb-12 flex-wrap reveal">
                <button onclick="filterWork('all')" class="filter-btn active" data-filter="all">ALL</button>
                <button onclick="filterWork('thumbnails')" class="filter-btn" data-filter="thumbnails">THUMBNAILS</button>
                <button onclick="filterWork('posters')" class="filter-btn" data-filter="posters">POSTERS</button>
                <button onclick="filterWork('banners')" class="filter-btn" data-filter="banners">BANNERS</button>
                <button onclick="filterWork('combos')" class="filter-btn" data-filter="combos">COMBOS</button>
            </div>
            
            <!-- Portfolio Grid - GROUPED BY CATEGORY -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start" id="portfolioGrid">
                
                <!-- THUMBNAILS (All 3 together) -->
                <div class="portfolio-item thumbnail" data-category="thumbnails" data-id="thumb1">
                    <img src="https://i.postimg.cc/B6N8NLMd/HBf6Codb_UAAR6o_N.jpg" alt="Thumbnail 1" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">THUMBNAIL</span>
                            <h3 class="text-white font-semibold mt-1">Gaming Thumbnail</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item thumbnail" data-category="thumbnails" data-id="thumb2">
                    <img src="https://i.postimg.cc/d1n7nk5Q/HBLvbuxak_AIGr_G8.jpg" alt="Thumbnail 2" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">THUMBNAIL</span>
                            <h3 class="text-white font-semibold mt-1">Esports Thumbnail</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item thumbnail" data-category="thumbnails" data-id="thumb3">
                    <img src="https://i.postimg.cc/gjJx7z7r/l9vxf4p_DOr8_HD.jpg" alt="Thumbnail 3" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">THUMBNAIL</span>
                            <h3 class="text-white font-semibold mt-1">Fortnite Thumbnail</h3>
                        </div>
                    </div>
                </div>
                
                <!-- POSTERS (All 6 together) -->
                <div class="portfolio-item poster" data-category="posters" data-id="poster1">
                    <img src="https://i.postimg.cc/5NQ0QRWM/ase.webp" alt="Poster 1" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">POSTER</span>
                            <h3 class="text-white font-semibold mt-1">Event Poster</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item poster" data-category="posters" data-id="poster2">
                    <img src="https://i.postimg.cc/vHxBxNwb/Gw_Hsw_G9W0AA7l_Ks.webp" alt="Poster 2" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">POSTER</span>
                            <h3 class="text-white font-semibold mt-1">Tournament Poster</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item poster" data-category="posters" data-id="poster3">
                    <img src="https://i.postimg.cc/4xtmqFWY/IMG_1476.webp" alt="Poster 3" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">POSTER</span>
                            <h3 class="text-white font-semibold mt-1">Team Poster</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item poster" data-category="posters" data-id="poster4">
                    <img src="https://i.postimg.cc/YqTvXwzt/IMG_1655.webp" alt="Poster 4" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">POSTER</span>
                            <h3 class="text-white font-semibold mt-1">Championship Poster</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item poster" data-category="posters" data-id="poster5">
                    <img src="https://i.postimg.cc/PqQNrvs8/PNG_File_(1).webp" alt="Poster 5" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">POSTER</span>
                            <h3 class="text-white font-semibold mt-1">Match Poster</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item poster" data-category="posters" data-id="poster6">
                    <img src="https://i.postimg.cc/NMGFyGB2/PNG_File_(2).webp" alt="Poster 6" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">POSTER</span>
                            <h3 class="text-white font-semibold mt-1">Finals Poster</h3>
                        </div>
                    </div>
                </div>
                
                <!-- BANNERS (All 3 together) -->
                <div class="portfolio-item banner" data-category="banners" data-id="banner1">
                    <img src="https://i.postimg.cc/tCnTnMGX/G_1Xa_Vcag_AAGUJe.jpg" alt="Banner 1" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">BANNER</span>
                            <h3 class="text-white font-semibold mt-1">Twitter Header</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item banner" data-category="banners" data-id="banner2">
                    <img src="https://i.postimg.cc/hPQjQ5W5/G_2y_j_Eb_EAAazs_E.jpg" alt="Banner 2" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">BANNER</span>
                            <h3 class="text-white font-semibold mt-1">YouTube Banner</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item banner" data-category="banners" data-id="banner3">
                    <img src="https://i.postimg.cc/c4tHtbyz/G_6Smx0XAAAsus_R.jpg" alt="Banner 3" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">BANNER</span>
                            <h3 class="text-white font-semibold mt-1">Esports Banner</h3>
                        </div>
                    </div>
                </div>
                
                <!-- COMBOS (All 4 together) -->
                <div class="portfolio-item combo" data-category="combos" data-id="combo1">
                    <img src="https://i.postimg.cc/Sx0K6fmS/G_D174wa4AAnvj_C.jpg" alt="Combo 1" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">BANNER + PFP COMBO</span>
                            <h3 class="text-white font-semibold mt-1">Branding Package</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item combo" data-category="combos" data-id="combo2">
                    <img src="https://i.postimg.cc/t40g3N99/G7eqdn8ao_AAaqv.jpg" alt="Combo 2" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">BANNER + PFP COMBO</span>
                            <h3 class="text-white font-semibold mt-1">Streamer Package</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item combo" data-category="combos" data-id="combo3">
                    <img src="https://i.postimg.cc/MKfTfFJp/G7UBo_Mpa_IAAJ2e.jpg" alt="Combo 3" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">BANNER + PFP COMBO</span>
                            <h3 class="text-white font-semibold mt-1">Creator Package</h3>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-item combo" data-category="combos" data-id="combo4">
                    <img src="https://i.postimg.cc/Hs8x8h1Y/G8Ar_ZV5ag_AEAna_S.jpg" alt="Combo 4" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                    <div class="portfolio-overlay">
                        <div>
                            <span class="text-red-500 font-medium text-sm tracking-wider">BANNER + PFP COMBO</span>
                            <h3 class="text-white font-semibold mt-1">Pro Package</h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Services & Pricing -->
    <section id="services" class="py-24 px-6 relative">
        <div class="absolute inset-0 bg-gradient-to-b from-transparent via-red-500/5 to-transparent pointer-events-none"></div>
        
        <div class="max-w-7xl mx-auto relative z-10">
            <div class="mb-16 text-center reveal">
                <h2 class="text-5xl md:text-6xl font-display font-bold mb-4">
                    SERVICES & <span class="text-red-600">PRICING</span>
                </h2>
                <p class="text-gray-400 max-w-xl mx-auto">Professional GFX at competitive prices. All prices in AUD.</p>
            </div>
            
            <!-- Services Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                <!-- Logo -->
                <div class="glass-card p-8 reveal" id="service-logo">
                    <h3 class="text-2xl font-display font-bold mb-2 tracking-wider">LOGO</h3>
                    <div class="text-4xl font-bold text-red-600 mb-4">
                        $<span class="service-price" data-service="logo" data-base-price="20">20</span><span class="text-lg text-gray-500 font-normal currency-label"> AUD</span>
                    </div>
                    <ul class="space-y-2 text-gray-400 text-sm mb-6">
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> High-quality design</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Source files included</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> 1 revision</li>
                    </ul>
                </div>
                
                <!-- PFP -->
                <div class="glass-card p-8 reveal" id="service-pfp">
                    <h3 class="text-2xl font-display font-bold mb-2 tracking-wider">PFP</h3>
                    <div class="text-4xl font-bold text-red-600 mb-4">
                        $<span class="service-price" data-service="pfp" data-base-price="15">15</span><span class="text-lg text-gray-500 font-normal currency-label"> AUD</span>
                    </div>
                    <ul class="space-y-2 text-gray-400 text-sm mb-6">
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Profile picture design</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Multiple sizes</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> 1 revision</li>
                    </ul>
                </div>
                
                <!-- Banner -->
                <div class="glass-card p-8 reveal" id="service-banner">
                    <h3 class="text-2xl font-display font-bold mb-2 tracking-wider">BANNER</h3>
                    <div class="text-4xl font-bold text-red-600 mb-4">
                        $<span class="service-price" data-service="banner" data-base-price="30">30</span><span class="text-lg text-gray-500 font-normal currency-label"> AUD</span>
                    </div>
                    <ul class="space-y-2 text-gray-400 text-sm mb-6">
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Social media banner</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> YouTube/Twitter optimized</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> 1 revision</li>
                    </ul>
                </div>
                
                <!-- Banner + PFP -->
                <div class="glass-card p-8 reveal" id="service-banner-pfp">
                    <h3 class="text-2xl font-display font-bold mb-2 tracking-wider">BANNER + PFP</h3>
                    <div class="text-4xl font-bold text-red-600 mb-4">
                        $<span class="service-price" data-service="banner_pfp" data-base-price="40">40</span><span class="text-lg text-gray-500 font-normal currency-label"> AUD</span>
                    </div>
                    <ul class="space-y-2 text-gray-400 text-sm mb-6">
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Matching set design</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Brand consistency</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> 1 revision</li>
                    </ul>
                </div>
                
                <!-- Poster -->
                <div class="glass-card p-8 reveal" id="service-poster">
                    <h3 class="text-2xl font-display font-bold mb-2 tracking-wider">POSTER</h3>
                    <div class="text-4xl font-bold text-red-600 mb-4">
                        $<span class="service-price" data-service="poster" data-base-price="30">30</span><span class="text-lg text-gray-500 font-normal currency-label"> AUD</span>
                    </div>
                    <ul class="space-y-2 text-gray-400 text-sm mb-6">
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Event/announcement poster</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> High resolution</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> 1 revision</li>
                    </ul>
                </div>
                
                <!-- Thumbnails -->
                <div class="glass-card p-8 reveal" id="service-thumbnails">
                    <h3 class="text-2xl font-display font-bold mb-2 tracking-wider">THUMBNAILS</h3>
                    <div class="text-4xl font-bold text-red-600 mb-4">
                        $<span class="service-price" data-service="thumbnails" data-base-price="20">20</span><span class="text-lg text-gray-500 font-normal currency-label"> AUD</span>
                    </div>
                    <ul class="space-y-2 text-gray-400 text-sm mb-6">
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> YouTube thumbnail</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> High CTR design</li>
                        <li class="flex items-center gap-2"><span class="text-red-600">✓</span> 1 revision</li>
                    </ul>
                </div>
            </div>
            
            <!-- Bundle Deals & Asset Pack -->
            <div class="mt-16">
                <h3 class="text-2xl font-display font-bold mb-8 text-center reveal">
                    BUNDLE <span class="text-red-600">DEALS</span> & <span class="text-red-600">ASSETS</span>
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                    <!-- Complete Brand Bundle -->
                    <div class="glass-card p-8 reveal" style="background: linear-gradient(135deg, rgba(220,38,38,0.15), rgba(17,17,17,0.8));">
                        <div class="absolute top-6 right-6 bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-full">SAVE $20</div>
                        <h3 class="text-2xl font-display font-bold mb-2 tracking-wider">COMPLETE BRAND</h3>
                        <div class="text-4xl font-bold text-red-600 mb-4">
                            $<span class="service-price" data-service="bundle" data-base-price="45">45</span><span class="text-lg text-gray-500 font-normal currency-label"> AUD</span>
                        </div>
                        <p class="text-gray-400 mb-4">Banner + PFP + Logo</p>
                        <ul class="space-y-2 text-gray-400 text-sm mb-6">
                            <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Complete branding package</li>
                            <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Consistent visual identity</li>
                            <li class="flex items-center gap-2"><span class="text-red-600">✓</span> 1 revision</li>
                            <li class="flex items-center gap-2"><span class="text-red-600">✓</span> Priority delivery</li>
                        </ul>
                    </div>
                    
                    <!-- ALL IN ONE ASSET PACK -->
                    <div class="glass-card p-8 reveal relative overflow-hidden" id="assetPackCard">
                        <div class="corner-ribbon" id="assetPackRibbon">
                            <span id="ribbonText">COMING SOON</span>
                        </div>
                        
                        <h3 class="text-2xl font-display font-bold mb-2 tracking-wider text-red-500" id="assetPackTitle">ALL-IN-ONE ASSET PACK</h3>
                        <div class="text-4xl font-bold text-gray-500 mb-4" id="assetPackPrice">TBA</div>
                        <p class="text-gray-400 mb-4" id="assetPackDesc">Complete GFX Asset Collection</p>
                        
                        <ul class="space-y-2 text-gray-400 text-sm mb-6" id="assetPackFeatures">
                            <li class="flex items-center gap-2"><span class="text-red-600">→</span> Commercial License</li>
                            <li class="flex items-center gap-2"><span class="text-red-600">→</span> 50+ Thumbnails</li>
                            <li class="flex items-center gap-2"><span class="text-red-600">→</span> Stream Overlays</li>
                            <li class="flex items-center gap-2"><span class="text-red-600">→</span> Transition Pack</li>
                        </ul>
                        
                        <div class="coming-soon-text" id="comingSoonText">COMING SOON</div>
                        
                        <button id="assetPackBtn" disabled class="w-full py-3 border border-gray-700 rounded-lg text-gray-500 cursor-not-allowed mt-4">
                            NOTIFY ME
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Order Form Section -->
    <section id="order" class="py-24 px-6">
        <div class="max-w-2xl mx-auto">
            <div class="mb-12 text-center reveal">
                <h2 class="text-5xl md:text-6xl font-display font-bold mb-4">
                    PLACE <span class="text-red-600">ORDER</span>
                </h2>
                <p class="text-gray-400">Select your services and fill out the form below. I'll get back to you within 24 hours.</p>
            </div>
            
            <form id="orderForm" class="glass-card p-8 md:p-12 reveal">
                <!-- Multi-Select Services Dropdown -->
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2 text-gray-300">Select Services *</label>
                    <div class="multi-select-container">
                        <div class="multi-select-trigger" id="serviceTrigger" onclick="toggleServiceDropdown()">
                            <span id="triggerText" class="placeholder-text">Click to select services...</span>
                            <svg class="w-5 h-5 text-gray-400 transition-transform" id="triggerArrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                        <div class="multi-select-dropdown" id="serviceDropdown">
                            <div class="multi-select-option" onclick="toggleService('Logo', 20)">
                                <input type="checkbox" id="chk-logo" onchange="event.stopPropagation()">
                                <div class="service-info">
                                    <span class="service-name">Logo</span>
                                    <span class="service-price">$<span class="price-display" data-base="20">20</span></span>
                                </div>
                            </div>
                            <div class="multi-select-option" onclick="toggleService('PFP', 15)">
                                <input type="checkbox" id="chk-pfp" onchange="event.stopPropagation()">
                                <div class="service-info">
                                    <span class="service-name">PFP</span>
                                    <span class="service-price">$<span class="price-display" data-base="15">15</span></span>
                                </div>
                            </div>
                            <div class="multi-select-option" onclick="toggleService('Banner', 30)">
                                <input type="checkbox" id="chk-banner" onchange="event.stopPropagation()">
                                <div class="service-info">
                                    <span class="service-name">Banner</span>
                                    <span class="service-price">$<span class="price-display" data-base="30">30</span></span>
                                </div>
                            </div>
                            <div class="multi-select-option" onclick="toggleService('Banner + PFP', 40)">
                                <input type="checkbox" id="chk-banner-pfp" onchange="event.stopPropagation()">
                                <div class="service-info">
                                    <span class="service-name">Banner + PFP</span>
                                    <span class="service-price">$<span class="price-display" data-base="40">40</span></span>
                                </div>
                            </div>
                            <div class="multi-select-option" onclick="toggleService('Poster', 30)">
                                <input type="checkbox" id="chk-poster" onchange="event.stopPropagation()">
                                <div class="service-info">
                                    <span class="service-name">Poster</span>
                                    <span class="service-price">$<span class="price-display" data-base="30">30</span></span>
                                </div>
                            </div>
                            <div class="multi-select-option" onclick="toggleService('Thumbnails', 20)">
                                <input type="checkbox" id="chk-thumbnails" onchange="event.stopPropagation()">
                                <div class="service-info">
                                    <span class="service-name">Thumbnails</span>
                                    <span class="service-price">$<span class="price-display" data-base="20">20</span></span>
                                </div>
                            </div>
                            <div class="multi-select-option" onclick="toggleService('Complete Brand Bundle', 45)">
                                <input type="checkbox" id="chk-bundle" onchange="event.stopPropagation()">
                                <div class="service-info">
                                    <span class="service-name">Complete Brand Bundle</span>
                                    <span class="service-price">$<span class="price-display" data-base="45">45</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="selectedServicesContainer" class="selected-services"></div>
                    <input type="hidden" id="selectedServicesInput" required>
                    <input type="hidden" id="totalPriceInput" value="0">
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2 text-gray-300">Discord Username *</label>
                    <input type="text" id="discordUser" required class="form-input" placeholder="username#0000" maxlength="50">
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2 text-gray-300">Email *</label>
                    <input type="email" id="emailUser" required class="form-input" placeholder="your@email.com" maxlength="100">
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2 text-gray-300">Description *</label>
                    <textarea id="description" required rows="4" class="form-input" placeholder="Describe what you're looking for... Include style preferences, colors, text, etc." maxlength="2000"></textarea>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2 text-gray-300">Reference Links (Optional)</label>
                    <input type="text" id="references" class="form-input" placeholder="Paste any reference images or links..." maxlength="500">
                </div>
                
                <div class="flex items-start gap-3 mb-8">
                    <input type="checkbox" id="terms" required class="custom-checkbox mt-1">
                    <label for="terms" class="text-sm text-gray-400 leading-relaxed">
                        I agree that payment is required upfront before work begins. I understand that revisions are included as specified in the pricing. *
                    </label>
                </div>
                
                <div class="flex items-center justify-between mb-6 p-4 bg-white/5 rounded-xl">
                    <span class="text-gray-400">Total:</span>
                    <span class="text-2xl font-bold text-red-600">$<span id="orderTotal">0</span> <span class="text-lg text-gray-500 font-normal currency-label">AUD</span></span>
                </div>
                
                <button type="submit" id="submitBtn" class="btn-primary w-full text-lg disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    SUBMIT ORDER
                    <svg class="w-5 h-5 inline-block ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg>
                </button>
            </form>
        </div>
    </section>
    
    <!-- Contact/Footer -->
    <section id="contact" class="py-24 px-6 bg-neutral-950 border-t border-white/5">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-5xl md:text-6xl font-display font-bold mb-8 reveal">
                LET'S <span class="text-red-600">CREATE</span>
            </h2>
            <p class="text-xl text-gray-400 mb-12 reveal">Ready to elevate your brand? Get in touch.</p>
            
            <div class="flex justify-center gap-4 mb-12 reveal">
                <a href="https://x.com/arshiapsd" target="_blank" rel="noopener noreferrer" class="glass-card w-16 h-16 flex items-center justify-center hover:border-red-600 transition-all group">
                    <svg class="w-6 h-6 text-gray-400 group-hover:text-red-500 transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                </a>
                <a href="https://www.behance.net/arshiagfx" target="_blank" rel="noopener noreferrer" class="glass-card w-16 h-16 flex items-center justify-center hover:border-red-600 transition-all group">
                    <svg class="w-6 h-6 text-gray-400 group-hover:text-red-500 transition-colors" fill="currentColor" viewBox="0 0 24 24"><path d="M22 7h-7v-2h7v2zm1.726 10c-.442 1.297-2.029 3-5.101 3-3.074 0-5.564-1.729-5.564-5.675 0-3.91 2.325-5.92 5.466-5.92 3.082 0 4.964 1.782 5.375 4.426.078.506.109 1.188.095 2.14h-8.027c.13 3.211 3.483 3.312 4.588 2.029h3.168zm-7.686-4h4.965c-.105-1.547-1.136-2.219-2.477-2.219-1.466 0-2.277.768-2.488 2.219zm-9.574 6.988h-6.466v-14.967h6.953c5.476.081 5.58 5.444 2.72 6.906 3.461 1.26 3.577 8.061-3.207 8.061zm-3.466-8.988h3.584c2.508 0 2.906-3-.312-3h-3.272v3zm3.391 3h-3.391v3.016h3.341c3.055 0 2.868-3.016.05-3.016z"/></svg>
                </a>
            </div>
            
            <div class="text-gray-600 text-sm reveal">
                <p>&copy; 2024 ARSHIA GFX. All rights reserved.</p>
            </div>
        </div>
    </section>
    
    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel">
        <div class="p-6 border-b border-white/10 flex justify-between items-center">
            <h3 class="text-xl font-display font-bold">ADMIN PANEL</h3>
            <button onclick="toggleAdmin()" class="text-gray-400 hover:text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>
        </div>
        
        <div class="p-6 space-y-6">
            <!-- Login Section -->
            <div id="adminLogin">
                <p class="text-sm text-gray-400 mb-4">Enter password to access admin features</p>
                <input type="password" id="adminPassword" class="form-input mb-4" placeholder="Password" autocomplete="off">
                <button onclick="checkAdminPassword()" class="btn-primary w-full">LOGIN</button>
                <p id="loginError" class="text-red-500 text-sm mt-2 hidden">Incorrect password</p>
            </div>
            
            <!-- Admin Controls -->
            <div id="adminControls" class="hidden space-y-6">
                <div class="bg-red-600/10 border border-red-600/30 rounded-lg p-4">
                    <p class="text-sm text-red-400 font-medium">✓ Admin Access Granted</p>
                </div>
                
                <!-- Change Password Section -->
                <div class="admin-section">
                    <h4 class="font-semibold mb-3 text-sm uppercase tracking-wider text-gray-400">Change Password</h4>
                    <input type="password" id="currentPassword" class="form-input text-sm mb-2" placeholder="Current Password" autocomplete="off">
                    <input type="password" id="newPassword" class="form-input text-sm mb-2" placeholder="New Password" autocomplete="off">
                    <input type="password" id="confirmPassword" class="form-input text-sm mb-2" placeholder="Confirm New Password" autocomplete="off">
                    <button onclick="changePassword()" class="btn-secondary w-full text-sm">UPDATE PASSWORD</button>
                    <p id="passwordError" class="text-red-500 text-sm mt-2 hidden"></p>
                    <p id="passwordSuccess" class="text-green-500 text-sm mt-2 hidden">Password updated successfully!</p>
                </div>
                
                <!-- Orders Management Section -->
                <div class="admin-section">
                    <h4 class="font-semibold mb-3 text-sm uppercase tracking-wider text-gray-400">Orders Management</h4>
                    <div id="ordersList" class="orders-list">
                        <p class="text-gray-500 text-sm italic">No pending orders</p>
                    </div>
                </div>
                
                <!-- Add Portfolio Item -->
                <div class="admin-section">
                    <h4 class="font-semibold mb-3 text-sm uppercase tracking-wider text-gray-400">Add Portfolio Item</h4>
                    <input type="text" id="newImageUrl" class="form-input text-sm mb-2" placeholder="Image URL">
                    <input type="text" id="newImageTitle" class="form-input text-sm mb-2" placeholder="Title (e.g., Championship Poster)">
                    <select id="newImageCategory" class="form-input text-sm mb-2 bg-neutral-900">
                        <option value="thumbnails">Thumbnails (16:9)</option>
                        <option value="posters">Posters (3:4)</option>
                        <option value="banners">Banners (21:9)</option>
                        <option value="combos">Combos (16:9)</option>
                    </select>
                    <button onclick="addPortfolioItem()" class="btn-secondary w-full text-sm">ADD ITEM</button>
                </div>
                
                <!-- Manage Portfolio Items -->
                <div class="admin-section">
                    <h4 class="font-semibold mb-3 text-sm uppercase tracking-wider text-gray-400">Portfolio Items</h4>
                    <div id="portfolioItemsList" class="orders-list">
                        <p class="text-gray-500 text-sm italic">No custom items added</p>
                    </div>
                </div>
                
                <!-- Edit Services Prices -->
                <div class="admin-section">
                    <h4 class="font-semibold mb-3 text-sm uppercase tracking-wider text-gray-400">Edit Service Prices</h4>
                    <div class="space-y-2">
                        <div class="service-edit-item">
                            <span class="text-sm text-gray-400 w-24">Logo:</span>
                            <input type="number" id="admin-price-logo" value="20" class="flex-1 bg-white/5 border border-white/10 rounded px-2 py-1 text-sm">
                        </div>
                        <div class="service-edit-item">
                            <span class="text-sm text-gray-400 w-24">PFP:</span>
                            <input type="number" id="admin-price-pfp" value="15" class="flex-1 bg-white/5 border border-white/10 rounded px-2 py-1 text-sm">
                        </div>
                        <div class="service-edit-item">
                            <span class="text-sm text-gray-400 w-24">Banner:</span>
                            <input type="number" id="admin-price-banner" value="30" class="flex-1 bg-white/5 border border-white/10 rounded px-2 py-1 text-sm">
                        </div>
                        <div class="service-edit-item">
                            <span class="text-sm text-gray-400 w-24">Banner+PFP:</span>
                            <input type="number" id="admin-price-banner-pfp" value="40" class="flex-1 bg-white/5 border border-white/10 rounded px-2 py-1 text-sm">
                        </div>
                        <div class="service-edit-item">
                            <span class="text-sm text-gray-400 w-24">Poster:</span>
                            <input type="number" id="admin-price-poster" value="30" class="flex-1 bg-white/5 border border-white/10 rounded px-2 py-1 text-sm">
                        </div>
                        <div class="service-edit-item">
                            <span class="text-sm text-gray-400 w-24">Thumbnails:</span>
                            <input type="number" id="admin-price-thumbnails" value="20" class="flex-1 bg-white/5 border border-white/10 rounded px-2 py-1 text-sm">
                        </div>
                        <div class="service-edit-item">
                            <span class="text-sm text-gray-400 w-24">Bundle:</span>
                            <input type="number" id="admin-price-bundle" value="45" class="flex-1 bg-white/5 border border-white/10 rounded px-2 py-1 text-sm">
                        </div>
                    </div>
                    <button onclick="updateServicePrices()" class="btn-secondary w-full text-sm mt-3">UPDATE PRICES</button>
                </div>
                
                <!-- ASSET PACK EDITOR -->
                <div class="admin-section bg-red-500/5 border border-red-500/20 rounded-lg p-4">
                    <h4 class="font-semibold mb-4 text-sm uppercase tracking-wider text-red-400">Asset Pack Editor</h4>
                    
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-sm text-gray-300">Show Corner Ribbon</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="editShowRibbon" checked onchange="updateAssetPackPreview()">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="mb-4">
                        <label class="admin-label">Ribbon Text</label>
                        <input type="text" id="editRibbonText" class="form-input text-sm" value="COMING SOON" onchange="updateAssetPackPreview()">
                    </div>
                    
                    <div class="mb-4">
                        <label class="admin-label">Pack Title</label>
                        <input type="text" id="editPackTitle" class="form-input text-sm" value="ALL-IN-ONE ASSET PACK" onchange="updateAssetPackPreview()">
                    </div>
                    
                    <div class="mb-4">
                        <label class="admin-label">Price (leave empty for TBA)</label>
                        <input type="text" id="editPackPrice" class="form-input text-sm" placeholder="99" onchange="updateAssetPackPreview()">
                    </div>
                    
                    <div class="mb-4">
                        <label class="admin-label">Description</label>
                        <input type="text" id="editPackDesc" class="form-input text-sm" value="Complete GFX Asset Collection" onchange="updateAssetPackPreview()">
                    </div>
                    
                    <div class="mb-4">
                        <label class="admin-label">Features (click × to remove)</label>
                        <div id="featuresEditor" class="space-y-2 mb-2"></div>
                        <div class="flex gap-2">
                            <input type="text" id="newFeature" class="form-input text-sm flex-1" placeholder="Add new feature...">
                            <button onclick="addFeature()" class="btn-secondary text-sm px-3">+</button>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="admin-label">Status</label>
                        <select id="editPackStatus" class="form-input text-sm bg-neutral-900" onchange="updateAssetPackPreview()">
                            <option value="coming_soon">Coming Soon</option>
                            <option value="available">Available Now</option>
                        </select>
                    </div>
                    
                    <div class="bg-black/30 rounded-lg p-3 mb-4">
                        <p class="text-xs text-gray-500 mb-2">Preview:</p>
                        <div class="text-xs text-gray-300 space-y-1">
                            <p>Title: <span id="previewTitle" class="text-white">ALL-IN-ONE ASSET PACK</span></p>
                            <p>Price: <span id="previewPrice" class="text-white">TBA</span></p>
                            <p>Features: <span id="previewFeatures" class="text-white">4 items</span></p>
                        </div>
                    </div>
                    
                    <button onclick="saveAssetPackChanges()" class="btn-primary w-full text-sm">SAVE ASSET PACK CHANGES</button>
                </div>
                
                <!-- Actions -->
                <div class="admin-section">
                    <h4 class="font-semibold mb-3 text-sm uppercase tracking-wider text-gray-400">Actions</h4>
                    <button onclick="saveToDatabase()" class="btn-primary w-full text-sm mb-2">SAVE ALL CHANGES</button>
                    <button onclick="testWebhook()" class="btn-secondary w-full text-sm" id="testWebhookBtn">TEST WEBHOOK</button>
                    <p class="webhook-cooldown" id="webhookCooldown"></p>
                </div>
                
                <button onclick="logoutAdmin()" class="w-full py-2 text-gray-500 hover:text-white text-sm border border-white/10 rounded-lg">LOGOUT</button>
            </div>
        </div>
    </div>
    
    <!-- Toast -->
    <div id="toast" class="toast">
        <span id="toastMessage">Message</span>
    </div>

    <script>
        // PRODUCTION CONFIG
        const CONFIG = {
            apiUrl: '/api/save-data'
        };
        
        // State
        let isAdmin = false;
        let orders = [];
        let portfolioItems = []; // NEW: Track portfolio items
        let audioContext;
        let currentCurrency = 'AUD';
        let isMuted = false;
        let volumeLevel = 0.5;
        let selectedServices = [];
        let lastWebhookTime = 0;
        const WEBHOOK_COOLDOWN = 30000;
        let isSubmitting = false; // NEW: Prevent double submission
        
        const exchangeRates = { AUD: 1, USD: 0.65, EUR: 0.60, GBP: 0.52, CAD: 0.88, JPY: 97.50, NZD: 1.07, SGD: 0.88 };
        
        let assetPackData = {
            showRibbon: true,
            ribbonText: 'COMING SOON',
            title: 'ALL-IN-ONE ASSET PACK',
            price: '',
            description: 'Complete GFX Asset Collection',
            features: ['Commercial License', '50+ Thumbnails', 'Stream Overlays', 'Transition Pack'],
            status: 'coming_soon'
        };
        
        const serviceDefinitions = [
            { id: 'logo', name: 'Logo', basePrice: 20 },
            { id: 'pfp', name: 'PFP', basePrice: 15 },
            { id: 'banner', name: 'Banner', basePrice: 30 },
            { id: 'banner-pfp', name: 'Banner + PFP', basePrice: 40 },
            { id: 'poster', name: 'Poster', basePrice: 30 },
            { id: 'thumbnails', name: 'Thumbnails', basePrice: 20 },
            { id: 'bundle', name: 'Complete Brand Bundle', basePrice: 45 }
        ];
        
        // Category order for proper insertion
        const CATEGORY_ORDER = ['thumbnails', 'posters', 'banners', 'combos'];
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initCursor();
            initAudio();
            initScrollReveal();
            initFormValidation();
            initPortfolioHover();
            initAssetPackEditor();
            initServiceDropdown();
            validateSession(); // NEW: Check if session is still valid
            loadDataFromDatabase();
            
            // NEW: Show audio controls only if supported
            if (typeof AudioContext !== 'undefined' || typeof webkitAudioContext !== 'undefined') {
                document.getElementById('audioControls').style.display = 'flex';
            }
        });
        
        // NEW: Validate session on load
        async function validateSession() {
            const token = sessionStorage.getItem('adminToken');
            if (token) {
                try {
                    const response = await fetch(CONFIG.apiUrl + '?token=' + encodeURIComponent(token));
                    const data = await response.json();
                    if (!data.authenticated) {
                        sessionStorage.removeItem('adminToken');
                    }
                } catch (e) {
                    sessionStorage.removeItem('adminToken');
                }
            }
        }
        
        // Initialize service dropdown click-outside behavior
        function initServiceDropdown() {
            document.addEventListener('click', (e) => {
                const container = document.querySelector('.multi-select-container');
                if (container && !container.contains(e.target)) {
                    closeServiceDropdown();
                }
            });
        }
        
        function toggleServiceDropdown() {
            const dropdown = document.getElementById('serviceDropdown');
            const trigger = document.getElementById('serviceTrigger');
            const arrow = document.getElementById('triggerArrow');
            
            if (dropdown.classList.contains('active')) {
                closeServiceDropdown();
            } else {
                dropdown.classList.add('active');
                trigger.classList.add('active');
                arrow.style.transform = 'rotate(180deg)';
                playSound('click');
            }
        }
        
        function closeServiceDropdown() {
            const dropdown = document.getElementById('serviceDropdown');
            const trigger = document.getElementById('serviceTrigger');
            const arrow = document.getElementById('triggerArrow');
            
            dropdown.classList.remove('active');
            trigger.classList.remove('active');
            arrow.style.transform = 'rotate(0deg)';
        }
        
        function toggleService(name, basePrice) {
            const checkbox = document.getElementById('chk-' + name.toLowerCase().replace(/[^a-z]/g, ''));
            const existingIndex = selectedServices.findIndex(s => s.name === name);
            
            if (existingIndex > -1) {
                selectedServices.splice(existingIndex, 1);
                if (checkbox) checkbox.checked = false;
            } else {
                const currentPrice = Math.round(basePrice * exchangeRates[currentCurrency]);
                selectedServices.push({ name, basePrice, currentPrice });
                if (checkbox) checkbox.checked = true;
                playSound('success');
            }
            
            updateSelectedServicesDisplay();
            updateOrderTotal();
        }
        
        function updateSelectedServicesDisplay() {
            const container = document.getElementById('selectedServicesContainer');
            const triggerText = document.getElementById('triggerText');
            const input = document.getElementById('selectedServicesInput');
            
            if (selectedServices.length === 0) {
                container.innerHTML = '';
                triggerText.textContent = 'Click to select services...';
                triggerText.classList.add('placeholder-text');
                input.value = '';
                document.getElementById('submitBtn').disabled = true;
                return;
            }
            
            triggerText.textContent = `${selectedServices.length} service${selectedServices.length > 1 ? 's' : ''} selected`;
            triggerText.classList.remove('placeholder-text');
            
            container.innerHTML = selectedServices.map(service => `
                <div class="selected-service-tag">
                    ${escapeHtml(service.name)} - $${service.currentPrice}
                    <button type="button" onclick="removeService('${escapeHtml(service.name)}')" title="Remove">×</button>
                </div>
            `).join('');
            
            input.value = JSON.stringify(selectedServices.map(s => ({ name: s.name, price: s.currentPrice })));
            
            const terms = document.getElementById('terms');
            document.getElementById('submitBtn').disabled = !terms.checked;
        }
        
        function removeService(name) {
            const index = selectedServices.findIndex(s => s.name === name);
            if (index > -1) {
                selectedServices.splice(index, 1);
                const checkboxId = 'chk-' + name.toLowerCase().replace(/[^a-z]/g, '');
                const checkbox = document.getElementById(checkboxId);
                if (checkbox) checkbox.checked = false;
                updateSelectedServicesDisplay();
                updateOrderTotal();
                playSound('click');
            }
        }
        
        function updateOrderTotal() {
            const total = selectedServices.reduce((sum, s) => sum + s.currentPrice, 0);
            document.getElementById('orderTotal').textContent = total;
            document.getElementById('totalPriceInput').value = total;
        }
        
        function updateAllPrices() {
            document.querySelectorAll('.service-price').forEach(el => {
                const basePrice = parseInt(el.dataset.basePrice);
                if (!isNaN(basePrice)) {
                    el.textContent = Math.round(basePrice * exchangeRates[currentCurrency]);
                }
            });
            
            document.querySelectorAll('.price-display').forEach(el => {
                const basePrice = parseInt(el.dataset.base);
                if (!isNaN(basePrice)) {
                    el.textContent = Math.round(basePrice * exchangeRates[currentCurrency]);
                }
            });
            
            selectedServices.forEach(service => {
                service.currentPrice = Math.round(service.basePrice * exchangeRates[currentCurrency]);
            });
            
            updateSelectedServicesDisplay();
            updateOrderTotal();
        }
        
        // Portfolio Hover - FIXED for mobile
        function initPortfolioHover() {
            const items = document.querySelectorAll('.portfolio-item');
            
            items.forEach(item => {
                // Desktop hover
                item.addEventListener('mouseenter', function() {
                    if (window.matchMedia('(hover: hover)').matches) {
                        this.classList.add('hover-active');
                        playSound('hover');
                    }
                });
                
                item.addEventListener('mouseleave', function() {
                    this.classList.remove('hover-active');
                });
                
                // Mobile touch
                item.addEventListener('touchstart', function() {
                    this.classList.add('hover-active');
                }, {passive: true});
                
                item.addEventListener('touchend', function() {
                    setTimeout(() => this.classList.remove('hover-active'), 300);
                });
            });
        }
        
        // Audio Controls - FIXED for mobile
        function toggleMute() {
            isMuted = !isMuted;
            const muteBtn = document.getElementById('muteBtn');
            const soundOnIcon = document.getElementById('soundOnIcon');
            const soundOffIcon = document.getElementById('soundOffIcon');
            
            if (isMuted) {
                muteBtn.classList.add('muted');
                soundOnIcon.classList.add('hidden');
                soundOffIcon.classList.remove('hidden');
            } else {
                muteBtn.classList.remove('muted');
                soundOnIcon.classList.remove('hidden');
                soundOffIcon.classList.add('hidden');
                if (audioContext && audioContext.state === 'suspended') {
                    audioContext.resume();
                }
            }
            showToast(isMuted ? 'Sound muted' : 'Sound on');
        }
        
        function updateVolume(value) {
            volumeLevel = value / 100;
            document.getElementById('volumeLabel').textContent = value + '%';
        }
        
        // Cursor - FIXED (hidden on mobile)
        function initCursor() {
            if (window.matchMedia('(pointer: coarse)').matches) return;
            
            const dot = document.querySelector('.cursor-dot');
            const outline = document.querySelector('.cursor-outline');
            if (!dot || !outline) return;
            
            let mouseX = 0, mouseY = 0, outlineX = 0, outlineY = 0;
            
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX; 
                mouseY = e.clientY;
                dot.style.left = mouseX + 'px'; 
                dot.style.top = mouseY + 'px';
            });
            
            function animate() {
                outlineX += (mouseX - outlineX) * 0.15;
                outlineY += (mouseY - outlineY) * 0.15;
                outline.style.left = outlineX + 'px'; 
                outline.style.top = outlineY + 'px';
                requestAnimationFrame(animate);
            }
            animate();
            
            document.querySelectorAll('a, button, .glass-card, input, select, textarea, .multi-select-trigger').forEach(el => {
                el.addEventListener('mouseenter', () => { 
                    outline.classList.add('hover'); 
                    playSound('hover'); 
                });
                el.addEventListener('mouseleave', () => outline.classList.remove('hover'));
            });
        }
        
        // Audio - FIXED with better error handling
        function initAudio() { 
            try {
                const AudioContextClass = window.AudioContext || window.webkitAudioContext;
                if (AudioContextClass) {
                    audioContext = new AudioContextClass();
                }
            } catch(e) {
                console.log('Audio not supported');
            }
        }
        
        function playSound(type) {
            if (!audioContext || isMuted) return;
            try {
                // Check if audio context is running (required for mobile)
                if (audioContext.state === 'suspended') {
                    audioContext.resume();
                }
                
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                osc.connect(gain); 
                gain.connect(audioContext.destination);
                
                const baseVolume = volumeLevel;
                
                if (type === 'hover') { 
                    osc.frequency.value = 600; 
                    gain.gain.value = 0.03 * baseVolume; 
                    osc.start(); 
                    osc.stop(audioContext.currentTime + 0.05); 
                } else if (type === 'click') { 
                    osc.frequency.value = 800; 
                    gain.gain.value = 0.05 * baseVolume; 
                    osc.start(); 
                    osc.stop(audioContext.currentTime + 0.08); 
                } else if (type === 'success') { 
                    osc.frequency.value = 1000; 
                    gain.gain.value = 0.08 * baseVolume; 
                    osc.start(); 
                    osc.frequency.exponentialRampToValueAtTime(1500, audioContext.currentTime + 0.2); 
                    osc.stop(audioContext.currentTime + 0.3); 
                }
            } catch(e) {}
        }
        
        // Scroll reveal
        function initScrollReveal() {
            const reveals = document.querySelectorAll('.reveal');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { 
                    if (entry.isIntersecting) entry.target.classList.add('active'); 
                });
            }, { threshold: 0.1 });
            reveals.forEach(el => observer.observe(el));
        }
        
        // Form validation - FIXED with debounce
        function initFormValidation() {
            const terms = document.getElementById('terms');
            const submitBtn = document.getElementById('submitBtn');
            if (terms && submitBtn) {
                terms.addEventListener('change', (e) => {
                    submitBtn.disabled = !e.target.checked || selectedServices.length === 0 || isSubmitting;
                });
            }
        }
        
        // Currency - FIXED dropdown closing
        function toggleCurrency() {
            const d = document.getElementById('currencyDropdown');
            if (d) {
                d.classList.toggle('opacity-0'); 
                d.classList.toggle('invisible');
            }
            playSound('click');
        }
        
        function changeCurrency(c) {
            currentCurrency = c;
            const currEl = document.getElementById('currentCurrency');
            const dropEl = document.getElementById('currencyDropdown');
            
            if (currEl) currEl.textContent = c;
            if (dropEl) dropEl.classList.add('opacity-0', 'invisible');
            
            updateAllPrices();
            document.querySelectorAll('.currency-label').forEach(l => l.textContent = ' ' + c);
            
            playSound('click'); 
            showToast(`Currency: ${c}`);
        }
        
        // Portfolio filter - FIXED array handling
        function filterWork(cat) {
            playSound('click');
            document.querySelectorAll('.filter-btn').forEach(b => {
                b.classList.toggle('active', b.dataset.filter === cat);
            });
            
            const items = document.querySelectorAll('.portfolio-item');
            const visibleItems = [];
            
            items.forEach(item => {
                const shouldShow = cat === 'all' || item.dataset.category === cat;
                if (shouldShow) {
                    item.style.display = 'block';
                    visibleItems.push(item);
                } else {
                    item.style.display = 'none';
                }
            });
            
            if (visibleItems.length > 0 && typeof gsap !== 'undefined') {
                gsap.fromTo(visibleItems, 
                    { opacity: 0, scale: 0.9, y: 20 }, 
                    { 
                        opacity: 1, 
                        scale: 1, 
                        y: 0, 
                        duration: 0.4, 
                        stagger: 0.05,
                        ease: "power2.out"
                    }
                );
            }
        }
        
        // Add portfolio item - FIXED to insert in correct category position
        function addPortfolioItem() {
            const url = document.getElementById('newImageUrl').value.trim();
            const title = document.getElementById('newImageTitle').value.trim() || 'New Work';
            const cat = document.getElementById('newImageCategory').value;
            
            if (!url) {
                showToast('Please enter an image URL');
                return;
            }
            
            // Validate URL format
            try {
                new URL(url);
            } catch {
                showToast('Please enter a valid URL');
                return;
            }
            
            let aspectClass = 'thumbnail';
            if (cat === 'posters') aspectClass = 'poster';
            else if (cat === 'banners') aspectClass = 'banner';
            else if (cat === 'combos') aspectClass = 'combo';
            
            const id = 'custom_' + Date.now();
            
            const div = document.createElement('div');
            div.className = `portfolio-item ${aspectClass}`;
            div.dataset.category = cat;
            div.dataset.id = id;
            div.dataset.custom = 'true';
            div.innerHTML = `
                <img src="${escapeHtml(url)}" alt="${escapeHtml(title)}" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
                <div class="portfolio-overlay">
                    <div>
                        <span class="text-red-500 font-medium text-sm tracking-wider">${cat.toUpperCase()}</span>
                        <h3 class="text-white font-semibold mt-1">${escapeHtml(title)}</h3>
                    </div>
                </div>
            `;
            
            const grid = document.getElementById('portfolioGrid');
            if (grid) {
                // Find the correct position to insert based on category order
                const targetCategoryIndex = CATEGORY_ORDER.indexOf(cat);
                const allItems = Array.from(grid.querySelectorAll('.portfolio-item'));
                
                let inserted = false;
                
                // Look for items in the same category to insert after
                for (let i = targetCategoryIndex; i < CATEGORY_ORDER.length; i++) {
                    const categoryToCheck = CATEGORY_ORDER[i];
                    const itemsInCategory = allItems.filter(item => item.dataset.category === categoryToCheck);
                    
                    if (itemsInCategory.length > 0) {
                        if (categoryToCheck === cat) {
                            // Same category found - insert after the last one
                            const lastItem = itemsInCategory[itemsInCategory.length - 1];
                            lastItem.after(div);
                            inserted = true;
                            break;
                        } else {
                            // Later category found - insert before the first one
                            const firstItemOfNextCategory = itemsInCategory[0];
                            grid.insertBefore(div, firstItemOfNextCategory);
                            inserted = true;
                            break;
                        }
                    }
                }
                
                // If no items found in same or later categories, append to end
                if (!inserted) {
                    grid.appendChild(div);
                }
                
                // Add to tracking array
                portfolioItems.push({
                    id: id,
                    url: url,
                    category: cat,
                    title: title
                });
                
                // Clear inputs
                document.getElementById('newImageUrl').value = '';
                document.getElementById('newImageTitle').value = '';
                
                playSound('success'); 
                showToast('Item added to ' + cat + ' section - Click SAVE ALL CHANGES to persist');
                updatePortfolioItemsList();
                
                // Add event listeners
                div.addEventListener('mouseenter', function() {
                    if (window.matchMedia('(hover: hover)').matches) {
                        this.classList.add('hover-active');
                        playSound('hover');
                    }
                });
                div.addEventListener('mouseleave', function() {
                    this.classList.remove('hover-active');
                });
                
                if (typeof gsap !== 'undefined') {
                    gsap.fromTo(div, 
                        { opacity: 0, scale: 0.9 }, 
                        { opacity: 1, scale: 1, duration: 0.4 }
                    );
                }
            }
        }
        
        // NEW: Update portfolio items list in admin
        function updatePortfolioItemsList() {
            const container = document.getElementById('portfolioItemsList');
            if (!container) return;
            
            if (portfolioItems.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-sm italic">No custom items added</p>';
                return;
            }
            
            container.innerHTML = portfolioItems.map(item => `
                <div class="order-item">
                    <div class="flex justify-between items-start mb-2">
                        <span class="font-bold text-white text-sm">${escapeHtml(item.title)}</span>
                        <span class="text-xs text-gray-500">${item.category}</span>
                    </div>
                    <p class="text-xs text-gray-400 truncate mb-2">${escapeHtml(item.url)}</p>
                    <button onclick="removePortfolioItem('${item.id}')" class="btn-danger w-full text-xs py-1">REMOVE</button>
                </div>
            `).join('');
        }
        
        // NEW: Remove portfolio item
        function removePortfolioItem(id) {
            const index = portfolioItems.findIndex(item => item.id === id);
            if (index > -1) {
                portfolioItems.splice(index, 1);
                
                // Remove from DOM
                const el = document.querySelector(`.portfolio-item[data-id="${id}"]`);
                if (el) el.remove();
                
                updatePortfolioItemsList();
                playSound('click');
                showToast('Item removed - Save to persist');
            }
        }
        
        // Order form submission - FIXED with debounce and better error handling
        document.getElementById('orderForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (isSubmitting) return;
            isSubmitting = true;
            
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.innerHTML = 'SUBMITTING...';
            
            playSound('success');
            
            const orderData = {
                id: Date.now(),
                discord: document.getElementById('discordUser').value.trim(),
                email: document.getElementById('emailUser').value.trim(),
                services: selectedServices.map(s => ({ name: s.name, price: s.currentPrice })),
                total: document.getElementById('totalPriceInput').value,
                currency: currentCurrency,
                description: document.getElementById('description').value.trim(),
                references: document.getElementById('references').value.trim(),
                status: 'pending',
                timestamp: new Date().toISOString(),
                contacted: false,
                contactTime: null
            };
            
            orders.push(orderData);
            updateOrdersList();
            
            // Send to webhook (moved to backend ideally, but keeping for now)
            try {
                const servicesText = selectedServices.map(s => `${s.name} ($${s.currentPrice} ${currentCurrency})`).join(', ');
                
                // Note: Webhook URL should ideally be in backend, not frontend
                // This is a temporary solution
                await fetch('https://discord.com/api/webhooks/1476902433543421994/FkN0Vsiub01N7E2Jc9AFFjuJyS9tNDcz8K1ELTMPwSz2lZYUpXDe_iGYS041W4Qoviud', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        content: '@everyone NEW ORDER!',
                        embeds: [{
                            title: '🎨 NEW ORDER #' + orderData.id,
                            color: 0xDC2626,
                            fields: [
                                { name: 'Discord', value: orderData.discord.substring(0, 100), inline: true },
                                { name: 'Email', value: orderData.email.substring(0, 100), inline: true },
                                { name: 'Services', value: servicesText.substring(0, 1000) },
                                { name: 'Total', value: '$' + orderData.total + ' ' + currentCurrency, inline: true },
                                { name: 'Description', value: orderData.description.substring(0, 1024) || 'No description' }
                            ],
                            timestamp: orderData.timestamp
                        }]
                    })
                });
            } catch (webhookError) {
                console.error('Webhook failed:', webhookError);
                // Continue anyway - order is saved in database
            }
            
            // Set reminder only if not contacted
            setTimeout(() => {
                const order = orders.find(o => o.id === orderData.id);
                if (order && !order.contacted && order.status !== 'completed') {
                    checkOrderReminder(orderData.id);
                }
            }, 24 * 60 * 60 * 1000);
            
            showToast('Order submitted successfully!');
            e.target.reset();
            selectedServices = [];
            updateSelectedServicesDisplay();
            document.querySelectorAll('.multi-select-option input[type="checkbox"]').forEach(cb => cb.checked = false);
            
            isSubmitting = false;
            submitBtn.disabled = true;
            submitBtn.innerHTML = `SUBMIT ORDER <svg class="w-5 h-5 inline-block ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg>`;
        });
        
        // Check order reminder - FIXED to check status
        function checkOrderReminder(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (order && !order.contacted && order.status !== 'completed') {
                // Only send if still pending
                fetch('https://discord.com/api/webhooks/1476902433543421994/FkN0Vsiub01N7E2Jc9AFFjuJyS9tNDcz8K1ELTMPwSz2lZYUpXDe_iGYS041W4Qoviud', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        content: '@everyone REMINDER: Order #' + orderId + ' has not been contacted yet!',
                        embeds: [{
                            title: '⏰ ORDER REMINDER #' + orderId,
                            color: 0xffa500,
                            fields: [
                                { name: 'Discord', value: order.discord.substring(0, 100), inline: true },
                                { name: 'Services', value: order.services.map(s => s.name).join(', ').substring(0, 1000) },
                                { name: 'Status', value: 'Awaiting contact' }
                            ]
                        }]
                    })
                }).catch(console.error);
            }
        }
        
        // Update orders list
        function updateOrdersList() {
            const container = document.getElementById('ordersList');
            if (!container) return;
            
            if (orders.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-sm italic">No pending orders</p>';
                return;
            }
            
            container.innerHTML = orders.map(order => `
                <div class="order-item ${order.contacted ? 'contacted' : 'pending'}">
                    <div class="flex justify-between items-start mb-2">
                        <span class="font-bold text-white">#${order.id}</span>
                        <span class="text-xs ${order.contacted ? 'text-yellow-500' : 'text-red-500'}">
                            ${order.contacted ? 'CONTACTED' : 'PENDING'}
                        </span>
                    </div>
                    <p class="text-sm text-gray-400 mb-1">${escapeHtml(order.discord)}</p>
                    <p class="text-sm text-gray-500 mb-1">${order.services.map(s => escapeHtml(s.name)).join(', ')}</p>
                    <p class="text-sm text-red-400 mb-2">$${order.total} ${order.currency || 'AUD'}</p>
                    ${!order.contacted ? `
                        <button onclick="markAsContacted(${order.id})" class="btn-primary w-full text-xs py-2">
                            MARK AS CONTACTED
                        </button>
                    ` : `
                        <button onclick="markAsCompleted(${order.id})" class="btn-secondary w-full text-xs py-2">
                            MARK COMPLETED
                        </button>
                    `}
                </div>
            `).join('');
        }
        
        // Admin panel
        function toggleAdmin() { 
            playSound('click'); 
            document.getElementById('adminPanel').classList.toggle('active'); 
        }
        
        // API-based login - FIXED with better error handling
        async function checkAdminPassword() {
            const input = document.getElementById('adminPassword');
            const password = input.value;
            
            // Clear password immediately for security
            input.value = '';
            
            try {
                const response = await fetch(CONFIG.apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ action: 'login', password: password })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    isAdmin = true;
                    document.getElementById('adminLogin').classList.add('hidden');
                    document.getElementById('adminControls').classList.remove('hidden');
                    updateOrdersList();
                    updatePortfolioItemsList();
                    playSound('success'); 
                    showToast('Admin access granted');
                    
                    if (data.token) {
                        sessionStorage.setItem('adminToken', data.token);
                    }
                } else {
                    const errorEl = document.getElementById('loginError');
                    errorEl.textContent = data.error || 'Incorrect password';
                    errorEl.classList.remove('hidden');
                    setTimeout(() => {
                        errorEl.classList.add('hidden');
                    }, 3000);
                }
            } catch (e) {
                showToast('Auth server error - check console');
                console.error(e);
            }
        }
        
        function logoutAdmin() {
            const token = sessionStorage.getItem('adminToken');
            
            // Notify server to revoke session
            if (token) {
                fetch(CONFIG.apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ action: 'logout', token: token })
                }).catch(() => {});
            }
            
            isAdmin = false;
            sessionStorage.removeItem('adminToken');
            document.getElementById('adminLogin').classList.remove('hidden');
            document.getElementById('adminControls').classList.add('hidden');
            document.getElementById('adminPassword').value = '';
        }
        
        // API-based password change - FIXED
        async function changePassword() {
            const current = document.getElementById('currentPassword').value;
            const newPass = document.getElementById('newPassword').value;
            const confirm = document.getElementById('confirmPassword').value;
            const errorEl = document.getElementById('passwordError');
            const successEl = document.getElementById('passwordSuccess');
            
            errorEl.classList.add('hidden');
            successEl.classList.add('hidden');
            
            if (newPass.length < 6) {
                errorEl.textContent = 'New password must be at least 6 characters';
                errorEl.classList.remove('hidden');
                return;
            }
            
            if (newPass !== confirm) {
                errorEl.textContent = 'Passwords do not match';
                errorEl.classList.remove('hidden');
                return;
            }
            
            try {
                const response = await fetch(CONFIG.apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        action: 'changePassword',
                        currentPassword: current,
                        newPassword: newPass,
                        token: sessionStorage.getItem('adminToken')
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    document.getElementById('currentPassword').value = '';
                    document.getElementById('newPassword').value = '';
                    document.getElementById('confirmPassword').value = '';
                    successEl.classList.remove('hidden');
                    playSound('success');
                    showToast('Password updated! Please login again.');
                    
                    // Logout after password change
                    setTimeout(() => {
                        logoutAdmin();
                    }, 2000);
                } else {
                    errorEl.textContent = data.error || 'Failed to update password';
                    errorEl.classList.remove('hidden');
                }
            } catch (e) {
                errorEl.textContent = 'Server error';
                errorEl.classList.remove('hidden');
            }
        }
        
        // Update service prices
        function updateServicePrices() {
            const prices = {
                logo: document.getElementById('admin-price-logo').value,
                pfp: document.getElementById('admin-price-pfp').value,
                banner: document.getElementById('admin-price-banner').value,
                banner_pfp: document.getElementById('admin-price-banner-pfp').value,
                poster: document.getElementById('admin-price-poster').value,
                thumbnails: document.getElementById('admin-price-thumbnails').value,
                bundle: document.getElementById('admin-price-bundle').value
            };
            
            for (const [key, value] of Object.entries(prices)) {
                const el = document.querySelector(`.service-price[data-service="${key}"]`);
                if (el) {
                    el.dataset.basePrice = value;
                }
            }
            
            updateAllPrices();
            showToast('Prices updated - Save to persist');
        }
        
        // ASSET PACK EDITOR FUNCTIONS
        function initAssetPackEditor() {
            renderFeaturesEditor();
            updateAssetPackPreview();
        }
        
        function renderFeaturesEditor() {
            const container = document.getElementById('featuresEditor');
            if (!container) return;
            container.innerHTML = assetPackData.features.map((feature, index) => `
                <div class="feature-item">
                    <input type="text" value="${escapeHtml(feature)}" onchange="updateFeature(${index}, this.value)">
                    <button onclick="removeFeature(${index})">×</button>
                </div>
            `).join('');
        }
        
        function updateFeature(index, value) {
            assetPackData.features[index] = value;
            updateAssetPackPreview();
        }
        
        function removeFeature(index) {
            assetPackData.features.splice(index, 1);
            renderFeaturesEditor();
            updateAssetPackPreview();
        }
        
        function addFeature() {
            const input = document.getElementById('newFeature');
            const value = input.value.trim();
            if (value) {
                assetPackData.features.push(value);
                input.value = '';
                renderFeaturesEditor();
                updateAssetPackPreview();
            }
        }
        
        function updateAssetPackPreview() {
            assetPackData.showRibbon = document.getElementById('editShowRibbon').checked;
            assetPackData.ribbonText = document.getElementById('editRibbonText').value;
            assetPackData.title = document.getElementById('editPackTitle').value;
            assetPackData.price = document.getElementById('editPackPrice').value;
            assetPackData.description = document.getElementById('editPackDesc').value;
            assetPackData.status = document.getElementById('editPackStatus').value;
            
            const previewTitle = document.getElementById('previewTitle');
            const previewPrice = document.getElementById('previewPrice');
            const previewFeatures = document.getElementById('previewFeatures');
            
            if (previewTitle) previewTitle.textContent = assetPackData.title;
            if (previewPrice) previewPrice.textContent = assetPackData.price ? '$' + assetPackData.price : 'TBA';
            if (previewFeatures) previewFeatures.textContent = assetPackData.features.length + ' items';
            
            updateAssetPackDisplay();
        }
        
        function updateAssetPackDisplay() {
            const ribbon = document.getElementById('assetPackRibbon');
            if (ribbon) {
                if (assetPackData.showRibbon) {
                    ribbon.style.display = 'block';
                    document.getElementById('ribbonText').textContent = assetPackData.ribbonText;
                } else {
                    ribbon.style.display = 'none';
                }
            }
            
            const titleEl = document.getElementById('assetPackTitle');
            const priceEl = document.getElementById('assetPackPrice');
            const descEl = document.getElementById('assetPackDesc');
            const featuresList = document.getElementById('assetPackFeatures');
            const comingSoonText = document.getElementById('comingSoonText');
            const btn = document.getElementById('assetPackBtn');
            
            if (titleEl) titleEl.textContent = assetPackData.title;
            if (priceEl) priceEl.textContent = assetPackData.price ? '$' + assetPackData.price : 'TBA';
            if (descEl) descEl.textContent = assetPackData.description;
            
            if (featuresList) {
                featuresList.innerHTML = assetPackData.features.map(f => 
                    `<li class="flex items-center gap-2"><span class="text-red-600">→</span> ${escapeHtml(f)}</li>`
                ).join('');
            }
            
            if (comingSoonText && btn) {
                if (assetPackData.status === 'coming_soon') {
                    comingSoonText.style.display = 'block';
                    comingSoonText.textContent = 'COMING SOON';
                    btn.disabled = true;
                    btn.textContent = 'NOTIFY ME';
                    btn.className = 'w-full py-3 border border-gray-700 rounded-lg text-gray-500 cursor-not-allowed mt-4';
                    btn.onclick = null;
                } else {
                    comingSoonText.style.display = 'none';
                    btn.disabled = false;
                    btn.textContent = assetPackData.price ? `BUY NOW - $${assetPackData.price}` : 'BUY NOW';
                    btn.className = 'w-full btn-primary mt-4';
                    btn.onclick = () => {
                        const basePrice = parseInt(assetPackData.price) || 0;
                        toggleService('All-in-One Asset Pack', basePrice);
                    };
                }
            }
        }
        
        function saveAssetPackChanges() {
            updateAssetPackPreview();
            saveToDatabase();
            showToast('Asset Pack updated!');
        }
        
        // Mark order as contacted
        async function markAsContacted(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (order) {
                order.contacted = true;
                order.contactTime = new Date().toISOString();
                updateOrdersList();
                playSound('success');
                showToast('Order marked as contacted');
                
                try {
                    await fetch('https://discord.com/api/webhooks/1476902433543421994/FkN0Vsiub01N7E2Jc9AFFjuJyS9tNDcz8K1ELTMPwSz2lZYUpXDe_iGYS041W4Qoviud', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            content: `Order #${orderId} has been contacted by the artist.`,
                            embeds: [{
                                title: '✅ ORDER CONTACTED',
                                color: 0x22c55e,
                                fields: [
                                    { name: 'Order ID', value: '#' + orderId },
                                    { name: 'Discord', value: order.discord.substring(0, 100) }
                                ]
                            }]
                        })
                    });
                } catch (e) {}
                
                saveToDatabase();
            }
        }
        
        // Mark order as completed
        async function markAsCompleted(orderId) {
            orders = orders.filter(o => o.id !== orderId);
            updateOrdersList();
            playSound('success');
            showToast('Order completed and removed');
            saveToDatabase();
        }
        
        // API Save - FIXED to include portfolio
        async function saveToDatabase() {
            try {
                const response = await fetch(CONFIG.apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        action: 'saveData',
                        token: sessionStorage.getItem('adminToken'),
                        assetPackData: assetPackData,
                        orders: orders,
                        portfolio: portfolioItems, // NEW: Include portfolio
                        servicePrices: {
                            logo: document.getElementById('admin-price-logo').value,
                            pfp: document.getElementById('admin-price-pfp').value,
                            banner: document.getElementById('admin-price-banner').value,
                            banner_pfp: document.getElementById('admin-price-banner-pfp').value,
                            poster: document.getElementById('admin-price-poster').value,
                            thumbnails: document.getElementById('admin-price-thumbnails').value,
                            bundle: document.getElementById('admin-price-bundle').value
                        },
                        timestamp: new Date().toISOString()
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) { 
                    playSound('success'); 
                    showToast('Changes saved to database!'); 
                } else if (response.status === 401) {
                    showToast('Session expired - please login again');
                    logoutAdmin();
                } else {
                    showToast('Failed to save: ' + (data.error || 'Unknown error'));
                }
            } catch (e) { 
                showToast('Error saving - server may be offline'); 
            }
        }
        
        // Load data from API - FIXED to load portfolio with proper ordering
        async function loadDataFromDatabase() {
            try {
                const token = sessionStorage.getItem('adminToken');
                
                const response = await fetch(CONFIG.apiUrl + (token ? '?token=' + encodeURIComponent(token) : ''));
                if (response.ok) {
                    const data = await response.json();
                    
                    if (data.orders) orders = data.orders;
                    
                    // NEW: Load portfolio items and sort by category order
                    if (data.portfolio) {
                        portfolioItems = data.portfolio;
                        // Sort by category order before rendering
                        portfolioItems.sort((a, b) => {
                            return CATEGORY_ORDER.indexOf(a.category) - CATEGORY_ORDER.indexOf(b.category);
                        });
                        renderPortfolioItems();
                        updatePortfolioItemsList();
                    }
                    
                    if (data.assetPackData) {
                        assetPackData = { ...assetPackData, ...data.assetPackData };
                        document.getElementById('editShowRibbon').checked = assetPackData.showRibbon;
                        document.getElementById('editRibbonText').value = assetPackData.ribbonText;
                        document.getElementById('editPackTitle').value = assetPackData.title;
                        document.getElementById('editPackPrice').value = assetPackData.price;
                        document.getElementById('editPackDesc').value = assetPackData.description;
                        document.getElementById('editPackStatus').value = assetPackData.status;
                        renderFeaturesEditor();
                        updateAssetPackDisplay();
                    }
                    
                    if (data.servicePrices) {
                        document.getElementById('admin-price-logo').value = data.servicePrices.logo || 20;
                        document.getElementById('admin-price-pfp').value = data.servicePrices.pfp || 15;
                        document.getElementById('admin-price-banner').value = data.servicePrices.banner || 30;
                        document.getElementById('admin-price-banner-pfp').value = data.servicePrices.banner_pfp || 40;
                        document.getElementById('admin-price-poster').value = data.servicePrices.poster || 30;
                        document.getElementById('admin-price-thumbnails').value = data.servicePrices.thumbnails || 20;
                        document.getElementById('admin-price-bundle').value = data.servicePrices.bundle || 45;
                        
                        updateServicePrices();
                    }
                    
                    if (data.authenticated) {
                        isAdmin = true;
                        document.getElementById('adminLogin').classList.add('hidden');
                        document.getElementById('adminControls').classList.remove('hidden');
                    }
                    
                    updateOrdersList();
                }
            } catch (e) {
                console.log('Could not load from database');
            }
        }
        
        // NEW: Render loaded portfolio items in correct order
// REPLACE the entire renderPortfolioItems function with this:

function renderPortfolioItems() {
    const grid = document.getElementById('portfolioGrid');
    if (!grid || portfolioItems.length === 0) return;
    
    // Sort portfolio items by category order
    const categoryOrder = ['thumbnails', 'posters', 'banners', 'combos'];
    portfolioItems.sort((a, b) => {
        return categoryOrder.indexOf(a.category) - categoryOrder.indexOf(b.category);
    });
    
    // Insert each custom item in its correct position
    portfolioItems.forEach(item => {
        let aspectClass = 'thumbnail';
        if (item.category === 'posters') aspectClass = 'poster';
        else if (item.category === 'banners') aspectClass = 'banner';
        else if (item.category === 'combos') aspectClass = 'combo';
        
        const div = document.createElement('div');
        div.className = `portfolio-item ${aspectClass}`;
        div.dataset.category = item.category;
        div.dataset.id = item.id;
        div.dataset.custom = 'true';
        div.innerHTML = `
            <img src="${escapeHtml(item.url)}" alt="${escapeHtml(item.title)}" onerror="this.style.display='none'; this.parentElement.style.background='var(--card-black)'">
            <div class="portfolio-overlay">
                <div>
                    <span class="text-red-500 font-medium text-sm tracking-wider">${item.category.toUpperCase()}</span>
                    <h3 class="text-white font-semibold mt-1">${escapeHtml(item.title)}</h3>
                </div>
            </div>
        `;
        
        // NUCLEAR OPTION: Find exact position and insert there
        const targetCategoryIndex = categoryOrder.indexOf(item.category);
        const allCurrentItems = Array.from(grid.querySelectorAll('.portfolio-item'));
        
        let inserted = false;
        
        // Look for items in same category to insert after
        for (let i = targetCategoryIndex; i < categoryOrder.length; i++) {
            const categoryToCheck = categoryOrder[i];
            const itemsInCategory = allCurrentItems.filter(el => el.dataset.category === categoryToCheck);
            
            if (itemsInCategory.length > 0) {
                if (categoryToCheck === item.category) {
                    // Same category - insert after the last one
                    const lastItem = itemsInCategory[itemsInCategory.length - 1];
                    lastItem.after(div);
                    inserted = true;
                    break;
                } else {
                    // Later category - insert before first one
                    const firstItem = itemsInCategory[0];
                    grid.insertBefore(div, firstItem);
                    inserted = true;
                    break;
                }
            }
        }
        
        // If no items found in same or later categories, append to end
        if (!inserted) {
            grid.appendChild(div);
        }
        
        // Add event listeners
        div.addEventListener('mouseenter', function() {
            if (window.matchMedia('(hover: hover)').matches) {
                this.classList.add('hover-active');
                playSound('hover');
            }
        });
        div.addEventListener('mouseleave', function() {
            this.classList.remove('hover-active');
        });
    });
}
        
        // Webhook with cooldown
        function testWebhook() {
            const now = Date.now();
            const timeSinceLast = now - lastWebhookTime;
            
            if (timeSinceLast < WEBHOOK_COOLDOWN) {
                const remaining = Math.ceil((WEBHOOK_COOLDOWN - timeSinceLast) / 1000);
                showToast(`Please wait ${remaining} seconds`);
                return;
            }
            
            lastWebhookTime = now;
            updateWebhookCooldown();
            
            fetch('https://discord.com/api/webhooks/1476902433543421994/FkN0Vsiub01N7E2Jc9AFFjuJyS9tNDcz8K1ELTMPwSz2lZYUpXDe_iGYS041W4Qoviud', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                    content: '@everyone Test from Admin Panel', 
                    embeds: [{ title: 'Test', description: 'Working!', color: 0xDC2626 }] 
                })
            }).then(() => {
                showToast('Test sent');
                startCooldownTimer();
            }).catch(() => showToast('Failed'));
        }
        
        function startCooldownTimer() {
            const cooldownEl = document.getElementById('webhookCooldown');
            const btn = document.getElementById('testWebhookBtn');
            btn.disabled = true;
            
            const interval = setInterval(() => {
                const remaining = WEBHOOK_COOLDOWN - (Date.now() - lastWebhookTime);
                
                if (remaining <= 0) {
                    clearInterval(interval);
                    cooldownEl.textContent = '';
                    btn.disabled = false;
                    return;
                }
                
                const seconds = Math.ceil(remaining / 1000);
                cooldownEl.textContent = `Cooldown: ${seconds}s`;
            }, 1000);
        }
        
        function updateWebhookCooldown() {
            const cooldownEl = document.getElementById('webhookCooldown');
            cooldownEl.textContent = 'Cooldown: 30s';
        }
        
        // Toast
        function showToast(m) {
            const t = document.getElementById('toast');
            const msg = document.getElementById('toastMessage');
            if (t && msg) {
                msg.textContent = m;
                t.classList.add('show');
                setTimeout(() => t.classList.remove('show'), 3000);
            }
        }
        
        // NEW: Escape HTML to prevent XSS
        function escapeHtml(text) {
            if (typeof text !== 'string') return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        // Close currency on outside click - FIXED
        document.addEventListener('click', (e) => { 
            if (!e.target.closest('#currencySwitcher')) {
                const d = document.getElementById('currencyDropdown');
                if (d) d.classList.add('opacity-0', 'invisible'); 
            }
        });
    </script>
</body>
</html>